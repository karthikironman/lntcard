{"version":3,"sources":["webpack:///./src/components/pages/serve.vue?d17b","webpack:///./src/components/pages/serve.vue?2452","webpack:///src/components/pages/serve.vue","webpack:///./src/components/pages/serve.vue?063b","webpack:///./src/components/pages/serve.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","colorChange","_v","on","$event","endServe","directives","name","rawName","value","expression","ref","domProps","bringFocusBack","target","composing","rfid","increaseCount","_s","getNumber","attrs","floaterText","floaterType","floaterRedirect","setNextStatus","showCompletedScreen","handleCancel","_e","staticRenderFns","components","data","floater","count","$refs","focusme1","focus","console","log","methods","localStorage","setItem","setTimeout","component"],"mappings":"kHAAA,W,kECAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAYC,MAAM,CAAC,SAAWP,EAAIQ,cAAc,CAACJ,EAAG,IAAI,CAACE,YAAY,WAAW,CAACN,EAAIS,GAAG,iBAAiBL,EAAG,SAAS,CAACE,YAAY,SAASI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAIY,cAAc,CAACZ,EAAIS,GAAG,SAASL,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOhB,EAAQ,KAAEiB,WAAW,SAASC,IAAI,WAAWZ,YAAY,YAAYa,SAAS,CAAC,MAASnB,EAAQ,MAAGU,GAAG,CAAC,KAAO,SAASC,GAAQ,OAAOX,EAAIoB,kBAAkB,MAAQ,CAAC,SAAST,GAAWA,EAAOU,OAAOC,YAAqBtB,EAAIuB,KAAKZ,EAAOU,OAAOL,QAAO,SAASL,GAAQ,OAAOX,EAAIwB,qBAAqBpB,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACE,YAAY,iBAAiB,CAACN,EAAIS,GAAGT,EAAIyB,GAAGzB,EAAI0B,gBAAgBtB,EAAG,IAAI,CAACE,YAAY,eAAe,CAACN,EAAIS,GAAG,mBAAmBL,EAAG,MAAM,CAACE,YAAY,eAAeF,EAAG,IAAI,CAACE,YAAY,oBAAoB,CAACN,EAAIS,GAAG,0CAA2CT,EAAW,QAAEI,EAAG,UAAU,CAACuB,MAAM,CAAC,KAAO3B,EAAI4B,YAAY,KAAO5B,EAAI6B,YAAY,SAAW7B,EAAI8B,iBAAiBpB,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOX,EAAI+B,cAAcpB,IAAS,aAAe,SAASA,GAAQ,OAAOX,EAAIgC,uBAAuB,OAAS,SAASrB,GAAQ,OAAOX,EAAIiC,mBAAmBjC,EAAIkC,MAAM,IAC9wCC,EAAkB,G,wBCiCtB,aACA,GACEC,WAAY,CAAd,gBACEC,KAFF,WAGI,MAAO,CACX,sBACA,+BACA,2DACMC,SAAS,EACTC,MAAO,EACP/B,aAAa,EACbe,KAAN,KAGE,QAbF,WAcItB,KAAKuC,MAAMC,SAASC,QACpBC,QAAQC,IAAI,eAAhB,oCAEEC,QAAS,CACP,UADJ,WAEA,oCACA,YAEI,aALJ,WAMA5C,KAAA,YAEI,oBARJ,WASA,6BACA,iCACA,sCAEI8B,cAbJ,WAcMY,QAAQC,IAAI,wBAEZE,aAAaC,QAAQ,SAAU,SAEjC3B,eAlBJ,WAkBA,YAC2B,IAAjBnB,KAAKqC,SACPU,YAAW,WACT,EAAV,yBACA,OAGIpC,SAzBJ,WA0BMX,KAAKqC,SAAU,GAEjBd,cA5BJ,WA4BA,WACM,GAAN,8CAGQ,IAAR,GACA,0CACA,wBAEA,mCACA,sCAEA,aACA,oBACA,uBACA,iBACA,YACA,SChG8V,I,wBCQ1VyB,EAAY,eACd,EACAlD,EACAoC,GACA,EACA,KACA,WACA,MAIa,aAAAc,E","file":"js/chunk-30d5df48.278283f8.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./serve.vue?vue&type=style&index=0&id=251f0d82&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"serveFood\",class:{'scanning':_vm.colorChange}},[_c('p',{staticClass:\"heading\"},[_vm._v(\"pickup Food\")]),_c('button',{staticClass:\"endBtn\",on:{\"click\":function($event){return _vm.endServe()}}},[_vm._v(\"End\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rfid),expression:\"rfid\"}],ref:\"focusme1\",staticClass:\"inputhide\",domProps:{\"value\":(_vm.rfid)},on:{\"blur\":function($event){return _vm.bringFocusBack()},\"input\":[function($event){if($event.target.composing){ return; }_vm.rfid=$event.target.value},function($event){return _vm.increaseCount()}]}}),_c('div',{staticClass:\"status-card\"},[_c('p',{staticClass:\"status-number\"},[_vm._v(_vm._s(_vm.getNumber()))]),_c('p',{staticClass:\"status-text\"},[_vm._v(\"Food Served\")])]),_c('div',{staticClass:\"rfid_image\"}),_c('p',{staticClass:\"rfid_description\"},[_vm._v(\" Place your rfid card in the scanner\")]),(_vm.floater)?_c('floater',{attrs:{\"text\":_vm.floaterText,\"type\":_vm.floaterType,\"redirect\":_vm.floaterRedirect},on:{\"loader\":function($event){return _vm.setNextStatus($event)},\"secondscreen\":function($event){return _vm.showCompletedScreen()},\"cancel\":function($event){return _vm.handleCancel()}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"serveFood\" :class=\"{'scanning':colorChange}\">\r\n    <p class=\"heading\">pickup Food</p>\r\n    <button class=\"endBtn\" @click=\"endServe()\">End</button>\r\n\r\n    <input\r\n      @blur=\"bringFocusBack()\"\r\n      @input=\"increaseCount()\"\r\n      class=\"inputhide\"\r\n      ref=\"focusme1\"\r\n      v-model=\"rfid\"\r\n    />\r\n  <div class=\"status-card\">\r\n      <p class=\"status-number\">{{getNumber()}}</p>\r\n      <p class=\"status-text\">Food Served</p>\r\n  </div>\r\n  <div class=\"rfid_image\">\r\n\r\n  </div>\r\n  <p class=\"rfid_description\"> Place your rfid card in the scanner</p>\r\n    <floater\r\n      v-if=\"floater\"\r\n      @loader=\"setNextStatus($event)\"\r\n      :text=\"floaterText\"\r\n      :type=\"floaterType\"\r\n      :redirect=\"floaterRedirect\"\r\n       @secondscreen=\"showCompletedScreen()\"\r\n       @cancel=\"handleCancel()\"\r\n    />\r\n  </div>\r\n</template>\r\n<script>\r\nimport floater from \"../widgets/floater\";\r\nimport backendService from \"../../services/backendService\";\r\nconst API_BACKEND = new backendService();\r\nexport default {\r\n  components: { floater },\r\n  data() {\r\n    return {\r\n    floaterType:'confirm',\r\n     floaterRedirect:\"secondScreen\",\r\n     floaterText:'Are you sure you wanted to End the Serving? ',\r\n      floater: false,\r\n      count: 0,\r\n      colorChange: false,\r\n      rfid:\"\"\r\n    };\r\n  },\r\n   mounted() {\r\n    this.$refs.focusme1.focus();\r\n    console.log('from floater',this.type,this.text.this.redirect)\r\n  },\r\n  methods: {\r\n      getNumber(){\r\nif(this.count < 10) return \"0\"+ this.count;\r\nelse return this.count\r\n      },\r\n      handleCancel(){\r\nthis.floater = false;\r\n      },\r\n       showCompletedScreen() {\r\n  this.floaterType = 'completed';\r\n     this.floaterRedirect = 'dashboard';\r\n     this.floaterText = \"ENDED THE SERVING\"\r\n    },\r\n    setNextStatus() {\r\n      console.log(\"go to dashboard page\");\r\n      // setLoading here\r\n      localStorage.setItem(\"status\", \"drop\");\r\n    },\r\n    bringFocusBack() {\r\n      if (this.floater === false) {\r\n        setTimeout(() => {\r\n          this.$refs.focusme1.focus();\r\n        }, 1200);\r\n      }\r\n    },\r\n    endServe() {\r\n      this.floater = true;\r\n    },\r\n    increaseCount() {\r\n        if(this.rfid.length === 10 && this.colorChange === false){\r\n      // this.count+=1;\r\n      \r\n         let data = {\r\n        pickupId: localStorage.getItem('pickupid'),\r\n        employeeRFID:this.rfid\r\n      }\r\n      API_BACKEND.countPickup(data).then((res)=>{\r\n        this.count = res.data.countOfMenuConsumed\r\n        })\r\n      this.rfid = \"\";\r\n      this.colorChange = true;\r\n      setTimeout(() => {\r\n        this.colorChange = false;\r\n         this.rfid = \"\";\r\n      }, 300);\r\n        }\r\n     \r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.scanning{\r\n     background: green !important;\r\n}\r\n.serveFood {\r\n  color: white;\r\n   background: transparent; \r\n  height: 100vh;\r\n  position: absolute;\r\n  top: 0;\r\n  width: 100vw;\r\n}\r\n.rfid_image{\r\n    width:50vw;\r\n    height:20vh;\r\n    background: #E0E0E0;\r\n    position:absolute;\r\n    top:70%;\r\n    left:50%;\r\n    transform: translate(-50%,-50%);\r\n}\r\n.endBtn{\r\n    font-size:27px;\r\n    position:absolute;\r\n    top:1.4rem;\r\n    right:2rem;\r\n    background: white;\r\n    color:red;\r\n    border-radius:28px;\r\n    padding:.5rem 1rem;\r\n}\r\n.heading {\r\n  font-size: 27px;\r\n  text-transform: capitalize;\r\n  font-weight: 800;\r\n}\r\n.inputhide {\r\n  outline: 1px solid transparent;\r\n  border: transparent;\r\n  background: transparent;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  text-align: center;\r\n  transform: translate(-50%, -50%);\r\n}\r\n.status-card{\r\n    background: white;\r\n    border-radius:8px;\r\n    color:black;\r\n    width:90vw;\r\n    position:absolute;\r\n    top:30%;\r\n    left:50%;\r\n    transform: translate(-50%,-50%);\r\n}\r\n.status-number{\r\nfont-size:80px;\r\nfont-weight: 500;\r\nline-height: 0;\r\n}\r\n.status-text{\r\nfont-size:35px;\r\n}\r\n.rfid_description{\r\n    font-size:30px;\r\n    position:absolute;\r\n    bottom:1rem;\r\n    text-align:center;\r\n    width:100vw;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./serve.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./serve.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./serve.vue?vue&type=template&id=251f0d82&scoped=true&\"\nimport script from \"./serve.vue?vue&type=script&lang=js&\"\nexport * from \"./serve.vue?vue&type=script&lang=js&\"\nimport style0 from \"./serve.vue?vue&type=style&index=0&id=251f0d82&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"251f0d82\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}